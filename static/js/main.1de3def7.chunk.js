(this.webpackJsonpaudit=this.webpackJsonpaudit||[]).push([[0],{208:function(e,n,a){e.exports=a(375)},374:function(e,n,a){},375:function(e,n,a){"use strict";a.r(n);var t=a(0),r=a.n(t),l=a(48),c=a.n(l),o=a(27),i=a(16),m=a(60),s=a.n(m),u=a(88),p=a(178),d=a.n(p),f=a(89),h=function(e){if(e.includes("\u6f14\u8b1b"))return"talk";if(e.includes("\u5de5\u4f5c\u574a")){if(e.includes("60"))return"workshop_60";if(e.includes("90"))return"workshop_90";if(e.includes("120"))return"workshop_120"}if(e.includes("\u4e3b\u984c\u8ad6\u58c7")){if(e.includes("60"))return"panel_60";if(e.includes("90"))return"panel_90";if(e.includes("120"))return"panel_120"}console.error("missing format: ",e)},y=function(e){return e.is_slide_cc40&&e.is_presentation_cc40?"everything_open":e.is_presentation_cc40?"presentation_open":e.is_slide_cc40?"slides_open":"unlicensed"},k=function(e){for(var n=0,a=[",","\uff0c","\u3001","/"];n<a.length;n++){var t=a[n];if(e.includes(t))return e.split(t).map((function(e){return e.trim()}))}return[e]},g=function(e){var n,a=Object(f.last)(e.versions),t=a.related_url,r=a.speakers,l=a.summary,c=a.summary_en,o=a.title,i=a.title_en;return{id:e._id,related_url:t,speakers:r,summary:l,summary_en:c,title:o,title_en:i,topic:(n=a.topic,n.includes("\u300c\u6c92\u6709\u4eba\u300d\u7684\u5cf6")?"nobody":n.includes("\u5cf6\u5dbc\u5927\u806f\u76df")?"federation":n.includes("\u5927\u5cf6\u958b\u653e")?"open":n.includes("\u6c92\u6709\u5cf6\u662f\u5c40\u5916\u5cf6")?"outside":n.includes("\u7b2c\u56db\u500b\u5cf6")?"fourth":n.includes("\u8ce2\u8005\u4e4b\u5cf6")?"academia":n.includes("\u6d77\u6d77\u4eba\u8072")?"voice":void console.error("missing topic: ",n)),format:h(a.format),license:y(a),keywords:k(a.three_keywords),languages:[a.oral_language,a.oral_languate_other].filter((function(e){return e.length>0})),url:"https://propose.summit2020.g0v.tw/proposal-detail/".concat(e._id)}},E=function(){var e=Object(u.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("https://api.summit2020.g0v.tw/projects");case 3:return n=e.sent,e.abrupt("return",n.data.filter((function(e){return e.enable})).map((function(e){return g(e)})));case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),v=r.a.createContext(),_=a(59),b=function(){var e=Object(t.useState)([]),n=Object(_.a)(e,2),a=n[0],r=n[1],l=function(){var e=Object(u.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:n=e.sent,r(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(t.useEffect)((function(){l()}),[]),{proposals:a,refetch:l}},w=a(61),O="g0vsummit2020audit",j={status:void 0,achievement:!1,experience:!1,research:!1,resource:!1,plan:!1,tutorial:!1,taste:!1,discussion:!1,facet_misc:!1,localization:!1,gender:!1,area:!1,highlight_misc:!1,memo:""},x=r.a.createContext(),C=function(){var e=Object(t.useState)(function(){var e=window.localStorage.getItem(O);return e||(window.localStorage.setItem(O,JSON.stringify({template:Object(w.a)({},j)})),e=window.localStorage.getItem(O)),JSON.parse(e)}()),n=Object(_.a)(e,2),a=n[0],r=n[1],l=Object(t.useCallback)((function(e){return a[e]||Object(w.a)({},j)}),[a]);return{notes:a,getNote:l,setNote:function(e){var n=e.id,t=e.name,c=e.value,o=l(n);o[t]=c,a[n]=o,window.localStorage.setItem(O,JSON.stringify(a)),r(Object(w.a)({},a))}}},I=a(38),N=a(392),S=a(71),A=a(384),z=a(376),q=a(36),P=a(393),J=a(29),M=a.n(J),T=a(39),W=[{key:void 0,color:"grey",icon:"clipboard list",name:"TODO"},{key:"wip",color:"grey",icon:"hourglass half",name:"WIP"},{key:"skipped",color:"grey",icon:"step forward",name:"Skipped"},{key:"yes",color:"green",icon:"check",name:"Yes"},{key:"unsure",color:"yellow",icon:"question",name:"Unsure"},{key:"no",color:"red",icon:"ban",name:"No"}],D=[{key:void 0,name:"",name_en:"All topics"},{key:"nobody",name:"\u793e\u7fa4 - \u300c\u6c92\u6709\u4eba\u300d\u7684\u5cf6",name_en:"Community - Nobody\u2019s island"},{key:"federation",name:"\u570b\u969b - \u5cf6\u5dbc\u5927\u806f\u76df",name_en:"International - Island\u2019s federation"},{key:"open",name:"\u958b\u653e\u6587\u5316 - \u5927\u5cf6\u958b\u653e",name_en:"Open culture - Open island"},{key:"outside",name:"\u4eba\u6b0a - \u6c92\u6709\u5cf6\u662f\u5c40\u5916\u5cf6",name_en:"Human rights - No island is outside island"},{key:"fourth",name:"\u5a92\u9ad4 - \u7b2c\u56db\u500b\u5cf6",name_en:"Media - The fourth island"},{key:"academia",name:"\u5b78\u8853 - \u8ce2\u8005\u4e4b\u5cf6",name_en:"Acedamic - Academia Formosa"},{key:"voice",name:"\u9818\u57df\u8b70\u984c - \u6d77\u6d77\u4eba\u8072",name_en:"Domain issues - Voice of the islanders"}],F=[{key:void 0,icon:"",name:"",name_en:"All formats"},{key:"talk",icon:"user",name:"\u6f14\u8b1b",name_en:"Talk"},{key:"panel_60",icon:"users",name:"\u4e3b\u984c\u8ad6\u58c7 60 \u5206\u9418",name_en:"Panel discussion 60 mins"},{key:"panel_90",icon:"users",name:"\u4e3b\u984c\u8ad6\u58c7 90 \u5206\u9418",name_en:"Panel discussion 90 mins"},{key:"panel_120",icon:"users",name:"\u4e3b\u984c\u8ad6\u58c7 120 \u5206\u9418",name_en:"Panel discussion 120 mins"},{key:"workshop_60",icon:"hand paper",name:"\u5de5\u4f5c\u574a 60 \u5206\u9418",name_en:"Workshop 60 mins"},{key:"workshop_90",icon:"hand paper",name:"\u5de5\u4f5c\u574a 90 \u5206\u9418",name_en:"Workshop 90 mins"},{key:"workshop_120",icon:"hand paper",name:"\u5de5\u4f5c\u574a 120 \u5206\u9418",name_en:"Workshop 120 mins"}],H=[{key:void 0,name:"",name_en:"All licenses"},{key:"everything_open",icon:"check",color:"green",name:"\u6f14\u8b1b\u7d00\u9304\u8207\u6295\u5f71\u7247\u7686\u958b\u653e\u6388\u6b0a",name_en:"Everything open licensed"},{key:"presentation_open",icon:"warning sign",color:"yellow",name:"\u50c5\u6f14\u8b1b\u7d00\u9304\u958b\u653e\u6388\u6b0a",name_en:"Only presentation open licensed"},{key:"slides_open",icon:"warning sign",color:"yellow",name:"\u50c5\u6295\u5f71\u7247\u958b\u653e\u6388\u6b0a",name_en:"Only slides open licensed"},{key:"unlicensed",icon:"minus circle",color:"red",name:"\u672a\u958b\u653e\u6388\u6b0a",name_en:"Unlicensed"}],R=[{key:void 0,name:"",name_en:"All facets"},{key:"achievement",name:"\u5c08\u6848\u6210\u679c\u8207\u5f71\u97ff\u529b",name_en:"Project achievement"},{key:"experience",name:"\u5c08\u6848\u7d93\u9a57\u8ac7",name_en:"Project experience"},{key:"research",name:"\u5206\u6790\u8207\u7814\u7a76",name_en:"Research"},{key:"resource",name:"\u8cc7\u6e90\u4ecb\u7d39",name_en:"Resource"},{key:"plan",name:"\u884c\u52d5\u8a08\u756b",name_en:"Plan"},{key:"tutorial",name:"\u5be6\u52d9\u6559\u5b78",name_en:"Tutorial"},{key:"taste",name:"\u65b9\u6cd5\u8ad6\u9ad4\u9a57",name_en:"Taste"},{key:"discussion",name:"\u8b70\u984c\u8a0e\u8ad6",name_en:"Discussion"},{key:"facet_misc",name:"\u5176\u4ed6\u9762\u5411",name_en:"Other facets"}],U=[{key:void 0,name:"",name_en:"All highlights"},{key:"localization",name:"\u53f0\u7063\u3001\u6771\u5357\u4e9e\u3001\u6771\u4e9e",name_en:"Localization"},{key:"gender",name:"\u6027\u5225\u5747\u8861",name_en:"Gender balance"},{key:"area",name:"\u5730\u57df\u5747\u8861",name_en:"Area balance"},{key:"highlight_misc",name:"\u5176\u4ed6\u52a0\u5206\u689d\u4ef6",name_en:"Other highlights"}],B=a(90),G=function(e){var n=e.queries,a=e.name,t=e.value,r=e.pathname,l=Object(w.a)({},n,Object(B.a)({},a,t));return"".concat(r,"?").concat(M.a.stringify(l))};function L(){var e=Object(I.a)(["\n  padding: 0 !important;\n\n  & > .menu {\n    width: 100%;\n    max-width: ",";\n    margin: 0 auto;\n\n    .item .label {\n      background: hsla(0, 0%, 0%, 0.1) !important;\n      opacity: 0.5;\n      .active & {\n        opacity: 1;\n      }\n    }\n  }\n"]);return L=function(){return e},e}var V=function(){var e=Object(i.g)().status,n=Object(i.f)(),a=n.pathname,l=n.search,c=Object(t.useContext)(v).proposals,m=Object(t.useContext)(x).getNote,s=M.a.parse(l),u=Object(t.useState)(s.search),p=Object(_.a)(u,2),d=p[0],f=p[1];return r.a.createElement(Y,null,r.a.createElement(N.a,{inverted:!0,borderless:!0,stackable:!0,color:"teal"},r.a.createElement(N.a.Item,null,"Audit Helper"),W.map((function(n){var a;return r.a.createElement(N.a.Item,{key:n.name,as:o.b,to:"/".concat(n.key||"").concat(l),active:n.key===e},n.name,r.a.createElement(S.a,null,null===(a=c.filter((function(e){var a;return(null===(a=m(e.id))||void 0===a?void 0:a.status)===n.key})))||void 0===a?void 0:a.length))})),r.a.createElement(N.a.Menu,{position:"right"},r.a.createElement(N.a.Item,null,r.a.createElement(A.a,{transparent:!0,inverted:!0,action:!0,placeholder:"Search...",value:d||"",onChange:function(e,n){var a=n.value;f(a)}},r.a.createElement("input",null),r.a.createElement(z.a,{type:"submit",name:"submit",color:"teal",icon:!0,as:o.b,to:G({queries:s,name:"search",value:d||void 0,pathname:a})},r.a.createElement(q.a,{name:"search"})))))))},Y=Object(T.a)((function(e){var n=e.className,a=e.children;return r.a.createElement(P.a,{inverted:!0,basic:!0,color:"teal",className:n},a)}))(L(),"1680px"),$=a(390);function K(){var e=Object(I.a)(["\n  width: 100%;\n  max-width: ",";\n  margin: 1rem auto;\n"]);return K=function(){return e},e}var Q=[{configs:D,type:"topic"},{configs:F,type:"format"},{configs:H,type:"license"},{configs:R,type:"facet"},{configs:U,type:"highlight"}],X=function(){var e=Object(i.f)(),n=e.pathname,a=e.search,t=M.a.parse(a);return r.a.createElement(ee,null,r.a.createElement(N.a,{secondary:!0,stackable:!0,widths:5},Q.map((function(e){var a,l=e.type,c=e.configs;return r.a.createElement($.a,{key:l,item:!0,className:t[l]?"active":"",text:(null===(a=Z({queries:t,type:l,configs:c}))||void 0===a?void 0:a.name_en)||"All ".concat(l,"s")},r.a.createElement($.a.Menu,null,c.map((function(e){return r.a.createElement($.a.Item,{key:e.name,as:o.b,to:G({queries:t,pathname:n,name:l,value:e.key})},e.name,r.a.createElement("p",null,e.name_en," "))}))))}))))},Z=function(e){var n=e.queries,a=e.type;return e.configs.find((function(e){return e.key===n[a]}))},ee=T.a.nav(K(),"1680px"),ne=a(386),ae=a(385),te=function(e){var n=e.pages,a=Object(i.f)(),t=a.pathname,l=a.search,c=M.a.parse(l);return r.a.createElement(ae.a,{textAlign:"center"},r.a.createElement(N.a,{pagination:!0,borderless:!0,stackable:!0},n.map((function(e,n){return r.a.createElement(N.a.Item,{as:o.b,to:G({queries:c,pathname:t,name:"page",value:0===n?void 0:n+1}),key:n+1,active:n+1===c.page||0===n&&!c.page},n+1)})),0===n.length&&r.a.createElement(N.a.Item,{active:!0,disabled:!0},"0")))},re=a(394),le=a(395),ce=a(391),oe=function(e){var n=e.proposal,a=D.find((function(e){return e.key===n.topic})),t=F.find((function(e){return e.key===n.format})),l=H.find((function(e){return e.key===n.license}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(ce.a,{horizontal:!0},n.keywords&&n.keywords.map((function(e){return r.a.createElement(S.a,{key:e,horizontal:!0},e)}))),r.a.createElement(ce.a,null,r.a.createElement(ce.a.Item,null,r.a.createElement(q.a,{name:"talk"}),r.a.createElement(ce.a.Content,null,a.name,r.a.createElement("br",null),a.name_en)),r.a.createElement(ce.a.Item,null,r.a.createElement(q.a,{name:t.icon}),r.a.createElement(ce.a.Content,null,t.name,r.a.createElement("br",null),t.name_en)),r.a.createElement(ce.a.Item,null,r.a.createElement(q.a,{name:"language"}),r.a.createElement(ce.a.Content,null,n.languages.join(", ")))),r.a.createElement(ce.a,null,r.a.createElement(ce.a.Item,null,r.a.createElement(q.a,{name:l.icon,color:l.color}),r.a.createElement(ce.a.Content,null,l.name,r.a.createElement("br",null),l.name_en))))},ie=a(389),me=function(e){var n=e.speakers;return r.a.createElement(ie.a.Group,{divided:!0},n.map((function(e){return r.a.createElement(ie.a,{key:e.display_name},r.a.createElement(ie.a.Image,{rounded:!0,size:"tiny",src:e.avatar_url}),r.a.createElement(ie.a.Content,null,e.info_url?r.a.createElement(ie.a.Header,{size:"tiny",as:"a",href:e.info_url,target:"_blank"},e.display_name," ",r.a.createElement(q.a,{name:"linkify",size:"small"})):r.a.createElement(ie.a.Header,{size:"small"},e.display_name),r.a.createElement(ie.a.Meta,null,r.a.createElement(q.a,{name:"map marker alternate"})," ",e.city),r.a.createElement(ie.a.Meta,null,r.a.createElement(q.a,{name:"building"})," ",e.organization),r.a.createElement(ie.a.Description,null,e.bio),r.a.createElement(ie.a.Description,null,e.bio_en)))})))},se=a(387),ue=function(e){var n=e.proposal,a=Object(t.useContext)(x),l=a.getNote,c=a.setNote,o=l(n.id),i=function(e,a){var t=a.name,r=a.value,l=a.checked;c({id:n.id,name:t,value:r||l})};return r.a.createElement(re.a,{columns:2,stackable:!0},r.a.createElement(re.a.Column,{width:10},r.a.createElement(se.a,null,R.map((function(e){return e.key&&r.a.createElement(se.a.Checkbox,{key:e.key,label:"".concat(e.name," ").concat(e.name_en),name:e.key,checked:o[e.key],onChange:i})}))),r.a.createElement(ne.a,null),r.a.createElement(se.a,null,U.map((function(e){return e.key&&r.a.createElement(se.a.Checkbox,{key:e.key,label:"".concat(e.name," ").concat(e.name_en),name:e.key,checked:o[e.key],onChange:i})})))),r.a.createElement(re.a.Column,{width:6},r.a.createElement(N.a,{secondary:!0,vertical:!0,fluid:!0},W.map((function(e){return r.a.createElement(N.a.Item,{key:e.key||"",name:"status",value:e.key,color:e.color,active:o.status===e.key,onClick:i},r.a.createElement(q.a,{name:e.icon}),e.name)}))),r.a.createElement(ne.a,null),r.a.createElement(se.a,null,r.a.createElement(se.a.TextArea,{name:"memo",value:o.memo||"",placeholder:"Auditor's memo...",onChange:i}))))};function pe(){var e=Object(I.a)(["\n  width: 100%;\n  max-width: ",";\n  margin: 0 auto;\n  padding: 0 1rem;\n\n  .grid > .column .menu {\n    margin-left: 0;\n  }\n"]);return pe=function(){return e},e}var de=function(e){var n=e.proposal;return r.a.createElement(fe,null,r.a.createElement(re.a,{stackable:!0,columns:3,key:n.id},r.a.createElement(re.a.Column,{width:3},r.a.createElement(oe,{proposal:n})),r.a.createElement(re.a.Column,{width:6},r.a.createElement(le.a,{as:"h3"},r.a.createElement("a",{href:n.url,target:"_blank"},n.title),r.a.createElement(le.a.Subheader,null,n.title_en)),n.related_url&&r.a.createElement("p",null,r.a.createElement("a",{href:n.related_url,target:"_blank"},"Related URL"," ",r.a.createElement(q.a,{name:"linkify",size:"small"}))),r.a.createElement("p",null,n.summary),r.a.createElement("p",null,n.summary_en),r.a.createElement(ne.a,null),r.a.createElement(me,{speakers:n.speakers})),r.a.createElement(re.a.Column,{width:7},r.a.createElement(ue,{proposal:n}))))},fe=T.a.section(pe(),"1680px");function he(){var e=Object(I.a)(["\n  text-align: center;\n  margin: 0.5rem 0;\n  font-size: 0.85rem;\n  opacity: 0.7;\n"]);return he=function(){return e},e}var ye=function(){var e=Object(i.g)().status,n=Object(i.f)().search,a=M.a.parse(n),l=Object(t.useContext)(v).proposals,c=Object(t.useContext)(x).getNote,o=l.filter((function(n){return ke({proposal:n,note:c(n.id),status:e,queries:a})})),m=Object(f.chunk)(o,25),s=m[a.page-1||0];return r.a.createElement(r.a.Fragment,null,r.a.createElement(te,{pages:m}),r.a.createElement(ge,null,o.length," proposals found"),(null===s||void 0===s?void 0:s.map((function(e){return r.a.createElement(r.a.Fragment,{key:e.id},r.a.createElement(ne.a,{section:!0}),r.a.createElement(de,{proposal:e}))})))||null,r.a.createElement(ne.a,null),r.a.createElement(te,{pages:m}),r.a.createElement(ne.a,{hidden:!0}))},ke=function(e){for(var n=e.proposal,a=e.note,t=e.status,r=e.queries,l=0,c=["topic","format","license"];l<c.length;l++){var o=c[l];if(r[o]&&n[o]!==r[o])return!1}return a.status===t&&(!(r.facet&&!a[r.facet])&&(!(r.highlight&&!a[r.highlight])&&!(r.search&&!JSON.stringify(n).includes(r.search))))},ge=T.a.p(he()),Ee=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(V,null),r.a.createElement(X,null),r.a.createElement(ye,null))},ve=function(){var e=b(),n=e.proposals,a=e.refetch,t=C(),l=t.notes,c=t.getNote,o=t.setNote;return r.a.createElement(v.Provider,{value:{proposals:n,refetch:a}},r.a.createElement(x.Provider,{value:{notes:l,getNote:c,setNote:o}},r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/proposal/:id"},r.a.createElement("div",null,"proposal")),r.a.createElement(i.a,{path:"/:status?"},r.a.createElement(Ee,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(373),a(374);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(o.a,null,r.a.createElement(ve,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[208,1,2]]]);
//# sourceMappingURL=main.1de3def7.chunk.js.map